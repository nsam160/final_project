<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <!-- <link rel="stylesheet" href="./camille-style.css"> -->
    <link rel="stylesheet" href="./camille-style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="../favicon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.module.js",
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.158.0/examples/jsm/"
      }
    }
    </script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/d3-scale-chromatic@3"></script> -->

    <script type="module" src="global.js"></script>
    <script type="module" src="./camilleExtreme.js"></script>
    <script type="module" src="./camilleOrbit.js"></script>
    <script src="./audio.js"></script>

    <title>Exploring the Universe Beyond</title>
</head>
<body>
  <!-- Header Section: Title and Progress Bar -->
  <header id="main-header">
    <div class="progress-labels">
      <a href="#section-intro" class="progress-label">1. Intro: Beyond our Sky</a>
      <a href="#section-timeline" class="progress-label">2. Solar System Timeline</a>
      <a href="#section-discoveries" class="progress-label">3. Exoplanet Discovery</a>
      <a href="#section-systems" class="progress-label">4. Strange New Worlds</a>
      <a href="#section-search" class="progress-label">5. Earth-like Worlds</a>
      <a href="#section-explorer" class="progress-label">6. 3D-Universe Explorer</a>
    </div>

  </header>
      <!-- royces audio-->

  <audio id="bg-audio" src="../audio/interstellar_main.mp3" loop></audio>
  <button id="volume-toggle" class="volume-button">
    <img id="volume-icon" src="../images/soundoff.png" alt="Mute/Unmute" />
  </button>


  <!-- =============================== -->
  <!-- Camille Section 1: INTRO (TODO) -->
  <!-- =============================== -->
   <!-- changed class from scroll-section hero to progress-label to turn off timeline -->
  <section id="section-intro" class="progress-label">
    <div class="hero-container">
      <!-- Left Side (Text) -->
      <div class="hero-text">
        <h1>
          Welcome to the World of <span class="highlight">Exoplanets</span><br>
        </h1>
        <p>
          Unveiling the Secrets of Distant Worlds. <br>
          <i style="font-size:10px">Camille Tran, Nghi Sam, Jacquelyn Garcia, Royce Nguyen</i>
        </p>
        <div class="hero-buttons">
          <a href="https://exoplanetarchive.ipac.caltech.edu/cgi-bin/TblView/nph-tblView?app=ExoTbls&config=PSCompPars" class="btn primary" target="_blank">Data</a>
          <a href="../glossary/index.html" class="btn secondary" target="_blank">Glossary</a>
        </div>
      </div>
      
      <!-- Right Side (Image) -->
      <div class="hero-image">
        <img src="../images/bigbang.gif" alt="Big Bang Gif">
      </div>
    </div>
  </section>
  
<!-- =============================== -->
<!-- Team Section: Our Team -->
<!-- =============================== -->
<!-- <section id="section-team" class="scroll-section">
  <div class="hero-container">
    <ul class="team-list">
      <li>Camille Tran</li>
      <li>Nghi Sam</li>
      <li>Jacquelyn Garcia</li>
      <li>Royce Nguyen</li> -->
      <!-- Add more team members here -->
    <!-- </ul>
  </div>
</section> -->


  <!-- =================================== -->
  <!-- Jacquelyn Section 2: SOLAR TIMELINE -->
  <!-- =================================== -->
    <section class="scroll-section" id="section-timeline">
      <h2 class="section-title">Solar System History</h2>
      <div class="timeline-container">
        <div id="timeline-container">
          <div id="timeline"></div>
          <div class="tooltip" id="tooltip"></div>
        </div>
    <div id="timeline-text">
      <!-- Your fixed text content here -->
      <p><strong>Let's start off with the planets we know and their history.</strong></p>
      <p>Since Earth, Mercury, Mars, Venus, Jupiter, and Saturn were all visible to the human eye, we have always known since the beginning of time that they exist, even when we did not understand the concept of planets. None of these planets have a specific discovery date, but the first recorded observation of them was made around 1000 BCE by the ancient Babylonians.</p>
      <p>
        <i><small style="opacity: 0.5;">(Hover and travel over the solar system planets to continue the solar system history story)</small></i>
      </p>
    </div>
  </section>
  <br><br>

  <!-- Nghi - New Section with timeline beyond solar system -->
  <section class="scroll-section" id="section-discoveries">
    <h2 class="section-title">Exoplanet Discovery</h2>
    <div id="increaseDiscovery">
      <div id="increaseExoplanet"></div>
      <div id="increaseExoplanetText">
        <p>
          After the discovery of Uranus, Pluto was discovered in 1930 as a planet, 
          but it was later reclassified as a Dwarf planet later on. However, our 
          solar system of 8 planets is not the only solar system that exists in 
          the Universe. Learning from history, our universe is always larger than 
          we might expect it to be. That‚Äôs when we discovered the first planet, 
          that rotates around another star besides the sun in 1992, to which are
          called ‚Äòexoplanets‚Äô.
        </p>
        <p>
          <i><small style="opacity: 0.5;">(Hover and travel over the line graph to read more stories on the Exoplanet's discovery across the years)</small></i>
        </p>
      </div>
      </div>
    </div>

    <div class="side-by-side-container">
      <!-- LEFT SIDE: Plot -->
      <div class="left-side">
        <!-- <div id="exoplanet-map-container"></div> -->
      </div>
      
      <!-- RIGHT SIDE: Text or other info -->
      <div class="right-side">
        <p>
          Three of NASA's biggest Exoplanet's Mission are Kepler, K2, and TESS. To interpret this graph, each colors are of a different NASA mission. The 'Right Ascension' degree is the horizontal location of the Exoplanet in the sky, while the 'Declination' degree is the vertical location of the Exoplanet in the sky.
        </p> 
        <p>
          <i><small style="opacity: 0.5;">(Hover over each colored dots (yellow: Kepler, blue: K2, gray: TESS) to learn more about each mission)</small></i>
        </p>
        <!-- Add more descriptive text or subsections here -->
      </div>
      </div>
    </div>
  </section>
  <!-- Nghi's Section End -->
  
  <!-- ============================= -->
  <!-- Camille Section 4: Orbit Systems START -->
  <!-- ============================= -->
<section class="scroll-section" id="section-systems">
  <h2 class="section-title">Strange New Worlds</h2>
   <!-- Story-capsules Selector -->
   <div id="overview" class="flex-capsules">
     <!-- Orbit Systems -->
    <div class="capsule" data-system="kepler" style="--glow:#FFA500;">
      <svg class="mini-orbit" id="mini-kepler"></svg>
      <div class="label">Kepler-90</div>
      <p class="subtext">The first 8-planet system discovered</p>
    </div>
    <div class="capsule" data-system="toi" style="--glow:#4682B4;">
      <svg class="mini-orbit" id="mini-toi"></svg>
      <div class="label">TOI-178</div>
      <p class="subtext">Six planets dancing in perfect resonance</p>
    </div>
    <div class="capsule" data-system="gj" style="--glow:#8B0000;">
      <svg class="mini-orbit" id="mini-gj"></svg>
      <div class="label">GJ 667C</div>
      <p class="subtext">Multiple potentially habitable planets</p>
    </div>
    </div>
    <!-- Extreme Worlds Capsules -->
    <div class="flex-capsules">
      <div class="capsule" id="capsule-wasp" style="--glow:#f75c4c;">
        <div class="planet-image-container">
          <img src="../svg/WASP-76b.jpg" alt="WASP-76b planet" class="planet-image" />
        </div>
        <div class="label">WASP-76b</div>
        <p class="subtext">Iron rain and twilight storms</p>
      </div>
    <div class="capsule" id="capsule-kelt" style="--glow:#ff6600;">
        <div class="planet-image-container">
          <img src="../svg/KELT-9b.jpg" alt="KELT-9b planet" class="planet-image" />
        </div>
        <div class="label">KELT-9b</div>
        <p class="subtext">Hotter than 75% of stars</p>
      </div>
    <div class="capsule" id="capsule-kepler80" style="--glow:#aaa;">
        <div class="planet-image-container">
          <img src="../svg/KEPLER-80F.jpg" alt="Kepler-80f planet" class="planet-image" />
        </div>
        <div class="label">Kepler-80f</div>
        <p class="subtext">Possibly denser than diamonds</p>
      </div>
    </div>
  </div>
</section>

<!-- Detailed View Section (Hidden by default) -->
<section id="detailed-view" style="display: none;">
  <div class="back-button-container">
    <button id="back-button" class="back-button"> Back </button>
  </div>

  <!-- Stage Tabs -->
  <div class="stage-navigation">
    <button class="stage-btn active" data-stage="1">System Overview</button>
    <button class="stage-btn" data-stage="2">Interactive</button>
  </div>

  <!-- Stage Content Wrapper -->
  <div class="stage-content">
    <!-- STAGE 1: System Overview - Orbit + Planet Profile -->
    <div id="system-stage-1" class="stage-panel active">
      <div class="enhanced-system-layout">
        <div class="orbit-animation-section">
          <h2 id="system-title-orbit">System Orbit Animation</h2>
          <div id="orbit-container"></div>
          
          <!-- Animation Controls for Overview Stage -->
          <div class="animation-controls-section">
            <div class="control-group">
              <h3>Animation Controls</h3>
              <button class="play-pause-btn" id="animation-play-pause">‚è∏Ô∏è Pause</button>
              <div class="speed-control">
                <span id="animation-speed-label">Speed:</span>
                <input type="range" class="speed-slider" min="0.1" max="3" step="0.1" value="1" id="animation-speed-slider">
                <span id="animation-speed-value">1x</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="planet-profile-section">
          <h2>Planet Profile</h2>
          
          <div class="planet-visual-container">
            <div class="planet-visual" id="planet-visual-display"></div>
          </div>
          
          <div class="planet-info-panel" id="planet-info-panel">
            <div class="info-row">
              <span class="info-label">Planet:</span>
              <span class="info-value" id="profile-planet-name">Select a planet</span>
            </div>
            <div class="info-row">
              <span class="info-label">Mass:</span>
              <span class="info-value" id="profile-planet-mass">Unknown</span>
            </div>
            <div class="info-row">
              <span class="info-label">Radius:</span>
              <span class="info-value" id="profile-planet-radius">Unknown</span>
            </div>
            <div class="info-row">
              <span class="info-label">Orbital Period:</span>
              <span class="info-value" id="profile-planet-period">Unknown</span>
            </div>
            <div class="info-row">
              <span class="info-label">Temperature:</span>
              <span class="info-value" id="profile-planet-temp">Unknown</span>
            </div>
            <div class="info-row">
              <span class="info-label">Distance:</span>
              <span class="info-value" id="profile-planet-distance">Unknown</span>
            </div>
          </div>
          
          <div class="planet-description-panel">
            <div class="description" id="profile-planet-description">
              Click on a planet in the orbit animation to view its detailed information.
            </div>
            <div class="planet-navigation-controls">
              <button class="planet-nav-button" id="next-planet-btn">
                Next Planet ‚Üí
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- STAGE 2: Interactive Mode - Minimal Layout -->
    <div id="system-stage-2" class="stage-panel">
      <div class="minimal-interactive-layout">
        <!-- Full-width visualization -->
        <div class="interactive-visualization">
          <div id="orbit-container-interactive"></div>
                  
          <!-- Minimal controls bar -->
            <div class="controls-bar orbital-controls-bar">
              <button class="control-btn" id="interactive-animation-play-pause">Pause</button>
              <div class="speed-control">
                <label>Speed:</label>
                <input type="range" id="interactive-animation-speed-slider" min="0.1" max="3" step="0.1" value="1">
                <span id="interactive-animation-speed-value">1x</span>
              </div>
            </div>
          
          <!-- Minimal system info -->
          <div class="system-info-minimal">
            <h3 id="interactive-system-name"></h3>
            <p id="interactive-planet-count"></p>
          </div>
        </div>
        
        <!-- System-specific controls -->
       <div class="system-controls orbital-system-controls">
          <!-- <div class="system-controls corner-position"></div> -->
          <!-- <div class="system-controls floating-bubble"></div> -->
          <!-- Kepler-90 Controls -->
          <div id="kepler-controls" class="control-panel orbital-control-panel" style="display: none;">
            <h4>Kepler-90 System</h4>
            <div class="control-grid">
              <button class="feature-btn" id="kepler-resonance">Show Resonances</button>
              <button class="feature-btn" id="kepler-periods">Compare Periods</button>
            </div>
          </div>
          <!-- TOI-178 Controls -->
          <div id="toi-controls" class="control-panel orbital-control-panel" style="display: none;">
            <h4>TOI-178 Resonance Chain</h4>
            <div class="control-grid">
              <button class="feature-btn" id="toi-chain">Show Chain</button>
              <button class="feature-btn" id="toi-ratios">Show Ratios</button>
            </div>
          </div>
          
          <!-- GJ 667C Controls -->
           <div id="gj-controls" class="control-panel orbital-control-panel" style="display: none;">
            <h4>GJ 667C Habitable Zone</h4>
            <div class="control-grid">
              <button class="feature-btn" id="gj-zone">Show Zone</button>
              <button class="feature-btn" id="gj-highlight">Highlight Planets</button>
              <button class="feature-btn" id="gj-temps">Temperature Zones</button>
            </div>
          </div>
          
          <!-- KELT-9b Controls -->
          <div id="kelt-controls" class="control-panel" style="display: none;">
            <h4>KELT-9b Plasma Controls</h4>
            <div class="control-grid" id="kelt-interactive-controls">
              <!-- Controls will be dynamically inserted here -->
            </div>
          </div>
          
          <!-- WASP-76b Controls -->
          <div id="wasp-controls" class="control-panel" style="display: none;">
            <h4>WASP-76b Iron Rain Controls</h4>
            <div class="control-grid" id="wasp-interactive-controls">
              <!-- Controls will be dynamically inserted here -->
            </div>
          </div>
          
          <!-- Kepler-80f Controls -->
          <div id="kepler80-controls" class="control-panel" style="display: none;">
            <h4>Kepler-80f Density Controls</h4>
            <div class="control-grid" id="kepler80-interactive-controls">
              <!-- Controls will be dynamically inserted here -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Keep existing system info for compatibility -->
  <div id="system-info" style="display: none;">
    <h2 id="system-title"></h2>
    <p id="system-description"></p>
  </div>
</section>
  <!-- =========================== -->
  <!-- Camille's Orbit Systems END -->
  <!-- =========================== -->

  <!-- ================================ -->
  <!-- Royce Section 5: EARTH SEARCH (TODO)  -->
  <!-- ================================ -->
<section class="scroll-section" id="section-search">
  <h2 class="section-title">Earth-Like Worlds</h2>

  <!-- Search Controls -->
      <div class="search-container">
        <div id="f1">Features To Compare:
          <select id="features"></select>
        </div>

        <div id="f2">Habitable?
          <select id="habitable">
            <option value="all">All</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>
        </div>

        <!-- The Show/Hide button sits at the top-right of the chart-wrapper-outer -->
        <button id="toggle-details" class="toggle-button">Show More Details</button>
      </div>

  <!-- 1) Chart Container at 90% width, centered -->
  <div class="chart-wrapper-outer">
    <div class="chart-wrapper-left">
      <div class="bar-chart"></div> <!-- D3 injects the SVG here -->
    </div>

    <div class="chart-wrapper-right">
      <h3 id="top3-title"></h3>
      <div class="details-text"><p><strong>Radius (Earth Radius):</strong> This measures a planet‚Äôs size compared to Earth. A radius of 1 means the planet is the same size as Earth. Planets very close to 1 R‚äï often have similar gravity and surface area, making them prime candidates for Earth-like conditions.</p></div>
      <div class="top3chart"></div>
      <p>
        <i><small style="opacity: 0.5;margin-top: 10px;display: block;">
          The <strong>heat-map ABOVE</strong> displays the same three planets across <em>all six</em> metrics. Each row corresponds to one of the Top 3 planets, and each column corresponds to one of the six features (Radius, Mass, Temperature, Eccentricity, Distance, Orbital Period). Darker cells indicate very small percentage differences from Earth‚Äôs value‚Äîmeaning that planet is close to Earth not just in the chosen feature but across multiple dimensions.
        </small></i>
      </p>
    
      <p>
        <i><small style="opacity: 0.5;margin-top: 10px;display: block;">
          In other words, the heat-map gives you a quick, holistic view of how each of the Top 3 planets measures up across every metric. A mostly dark-green row means that planet is highly Earth-like overall, whereas lighter or gray cells indicate larger deviations or missing data.
        </small></i>
      </p>
    </div>

  <!-- 2) Sliding Panel: initially hidden off-screen on the right -->
  <!-- <div id="details-panel">
    <div class="details-header"> -->
      <!-- <button id="close-details" class="close-button">‚úï</button> -->
      <!-- <h3 id="top3-title"></h3>
      <ol id="top3-list"></ol>
    </div> -->

    <!-- <div class="details-content">
      <div class="top3chart"></div>
      <div class="details-text">
        <p>The <strong>heat-map ABOVE</strong> displays the same three planets across <em>all six</em> metrics. Each row corresponds to one of the Top 3 planets, and each column corresponds to one of the six features (Radius, Mass, Temperature, Eccentricity, Distance, Orbital Period). Darker cells indicate very small percentage differences from Earth‚Äôs value‚Äîmeaning that planet is close to Earth not just in the chosen feature but across multiple dimensions.</p>
    
        <p>In other words, the heat-map gives you a quick, holistic view of how each of the Top 3 planets measures up across every metric. A mostly dark-green row means that planet is highly Earth-like overall, whereas lighter or gray cells indicate larger deviations or missing data.</p>
        
        <p>Use this visualization to understand not only why these planets rank first for your selected metric, but also how they compare to Earth in all other important characteristics. Together, the dot-chart, the Top 3 list, and this heat-map help you identify the most promising candidates for Earth-like habitability.</p>
            <p><strong>Radius (Earth Radius):</strong>  
        This measures a planet‚Äôs size compared to Earth. A radius of 1 means the planet is the same size as Earth. Planets very close to 1 R‚äï often have similar gravity and surface area, making them prime candidates for Earth-like conditions.</p>
        
        <p><strong>Mass (Earth Mass):</strong>  
        Mass tells us how much matter a planet contains compared to Earth. A mass near 1 M‚äï suggests a rocky composition and surface gravity similar to ours. Too heavy or too light can mean very different atmospheric retention or geologic activity.</p>
        
        <p><strong>Equilibrium Temperature (Kelvin):</strong>  
        Equilibrium temperature (T‚Çëq) is the theoretical blackbody temperature a planet would have if it absorbed and re-radiated starlight exactly like Earth (no greenhouse effect). Earth‚Äôs T‚Çëq is 255 K. Planets near this value receive just the right amount of stellar energy to allow liquid water if they have an atmosphere.</p>
        
        <p><strong>Eccentricity:</strong>  
        Eccentricity measures how circular a planet‚Äôs orbit is. Earth‚Äôs eccentricity is 0.0167 (nearly a perfect circle). If a planet‚Äôs eccentricity is close to 0, its distance (and temperature) from its star stays relatively constant. Higher eccentricity can cause extreme seasonal or temperature swings.</p>
        
        <p><strong>Distance (AU):</strong>  
        This is the semi-major axis of the planet‚Äôs orbit in astronomical units (AU). 1 AU is the average distance from Earth to the Sun. A distance near 1 AU means the planet lies in a similar ‚Äúhabitable zone,‚Äù receiving Earth-like insolation.</p>
        
        <p><strong>Orbital Period (Days):</strong>  
        Orbital period is the time a planet takes to complete one revolution around its star, measured in Earth days. Earth‚Äôs orbital period is 365.26 days. A period near one year often correlates with a familiar pattern of seasons and insolation cycles.</p>
        
        <p>Above, you see the <strong>Top 3 planets</strong> most similar to Earth for the single feature you selected. For example, if you chose ‚ÄúMass,‚Äù these three planets have masses closest to 1 M‚äï among the dataset. Their names and values are shown at the top of this panel.</p>
      </div>
    </div> -->
  <!-- </div> -->
</div>

  <!-- Tooltip DIV (floats above everything) -->
  <div id="roytooltip"></div>

  <!-- Nghi's Top 3 Start -->
  <div id="nghiTop3">
    <div id="top3Overall"></div>
    <div id="top3TextNghi">
      <p>
        These are the top ten planets most similar to Earth based on various properties.
        Below are the Earth reference values used to compare and rank the planets:
      </p>
      <ul class="instructionExplorer">
        <li><b>Radius (in Earth radii):</b> 1</li>
        <li><b>Mass (in Earth masses):</b> 1</li>
        <li><b>Temperature (in Kelvin):</b> 255</li>
        <li><b>Eccentricity:</b> 0.0167</li>
        <li><b>Distance from star (in AU):</b> 1.0167</li>
        <li><b>Orbital period (in days):</b> 365.26</li>
      </ul>
      <p>
        Based on the comparison table, <strong>Proxima Centauri b</strong> appears to be
        the most promising candidate for life beyond Earth. It shares several Earth-like 
        characteristics and is also the closest known exoplanet to our solar system.
      </p>
    </div>
  </div>
<!-- Nghi's Top 3 End -->
</section>


  <!-- ================================ -->
  <!-- Nghi Section 6: UNIVERSE EXPLORER (TODO)      -->
  <!-- ================================ -->  
<section class="scroll-section" id="section-explorer">
  <!-- insert code here  -->
   <h2 class="section-title">3D-Universe Explorer</h2>
   <div id="solarExplorer">
    <div id="filterSolarSystem">
      <label><b>How To Use:</b>
        <ol class="instructionExplorer">
          <li>Use the search bar to filter out dropdown host stars or search for a specific host star directly (optional)</li>
          <li>Use the dropdown box to select a specific host star</li>
          <li>Select a speed to run animation</li>
          <li>Pause or play animation at any time</li>
        </ol>
      </label>
      <label><b class="b-label">Search Host Star: </b>
        <input
          id="searchSolar"
          type="search"
          aria-label="Search Host Star"
          placeholder="üîç Search Host Star"
        />
      </label>
      <label><b class="b-label">Select Host Star: </b>
        <select id="solarDropdown"></select>
      </label>
      <label><b class="b-label">Select Speed (1 Second = ...): </b>
        <select id="speedSelector">
          <option value="1-Second">1 Second</option>
          <option value="1-Minute">1 Minute</option>
          <option value="1-Hour">1 Hour</option>
          <option value="1-Day" selected>1 Day</option>
          <option value="1-Week">1 Week</option>
          <option value="1-Month">1 Month</option>
          <option value="1-Year">1 Year</option>
        </select>
      </label>
      <label><b class="b-label">Animation Control:</b>
        <button id="pausePlayButton">
          <i id="playPauseIcon" class="fas fa-pause"></i>
        </button>
      </label>
    </div>
    <div id="lastCanvas"></div>
    <div id="infoSolarSystem">
      <label><b>Exoplorer Interaction Instruction:</b>
        <ul class="instructionExplorer">
          <li>Select the star at the center to see details about the host star and its system (default)</li>
          <li>Select a specific exoplanet or its rotational ring to see planet detail</li>
          <li>To zoom in and out, use the touchpad or mouse and swipe or scroll around</li>
          <li>To rotate, hold down on the touchpad or mouse and then swipe or scroll around</li>
          <li>To move the entire planetary system left, right, up, or down, hold down on the 'Shift' key, then interact with the keypad or mouse</li>
        </ul>
      </label>
      <label>
        <b class="b-label">System Profile:</b>
        <div id="nghi-tooltip"></div>
      </label>
    </div>
   </div>
</section>
</body>
</html>